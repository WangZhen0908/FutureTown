package com.vvage.futuretown.model;

import org.json.JSONException;
import org.json.JSONObject;
import org.json.JSONTokener;

import com.vvage.futuretown.Global;
import com.vvage.futuretown.network.Http.ErrorMsg;

public class LoginParse extends BaseJsonReader {

	String phoneNum;
	String password;
	User user;
	
	/*
	 * JSON解析
	 */

	public String loginStatus;
	public String status;
	public String msg;

	public LoginParse(String phoneNum, String password) {
		this.phoneNum = phoneNum;
		this.password = password;
	}

	@Override
	public String getUrl() {
		// TODO Auto-generated method stub
		return Global.URL + "mod=account_api&code=Login_done&phone=" + phoneNum
				+ "&password=" + password;
	}

	@Override
	public void read(String str) throws ErrorMsg {
		// TODO Auto-generated method stub
		try {
			JSONObject jsonObject = new JSONObject(str);

			status = jsonObject.getString("status");
			msg = jsonObject.getString("msg");
			
//			JSONTokener jsonParser = new JSONTokener(jsonObject.getString("user"));
//			JSONObject jsonUser = new JSONObject(jsonParser);
//			user.set(jsonUser.getString("BackReason"));
				
		} catch (JSONException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
}
